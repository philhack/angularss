<h1>Register Partial</h1>
<p>{{ message }}</p>
<div>
    <form name="registrationForm" ng-submit="register(user)" ng-controller="AuthenticationController" novalidate>
        <div class="form-group"  ng-class="{ 'has-error' : (registrationForm.username.$invalid && (registrationForm.username.$pristine || registrationForm.username.$dirty)) && submitted }">
            <label>username:</label>
            <input type="text" name="username" class="form-control" ng-model="user.username" required placeholder="username" />
            <p ng-show="(registrationForm.username.$invalid && (registrationForm.username.$pristine || registrationForm.username.$dirty)) && submitted" class="help-block">UserName is required</p>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : (registrationForm.email.$invalid && (registrationForm.email.$pristine || registrationForm.email.$dirty)) && submitted }">
            <label>email:</label>
            <input type="email" name="email" class="form-control" ng-model="user.email" required placeholder="email@something.com" />
            <p ng-show="(registrationForm.email.$invalid && (registrationForm.email.$pristine || registrationForm.email.$dirty)) && submitted" class="help-block">Email Address is required and must be valid. eg: email@something.com</p>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : (registrationForm.password.$invalid && (registrationForm.password.$pristine || registrationForm.password.$dirty)) && submitted }">
            <label>password:</label>
            <input type="password" name="password" class="form-control" ng-model="user.password" required ng-minlength="4" ng-maxlength="20" placeholder="password" />
            <p ng-show="(registrationForm.password.$invalid && (registrationForm.password.$pristine || registrationForm.password.$dirty)) && submitted" class="help-block">Password is Required</p>
            <p ng-show="(registrationForm.password.$error.minlength || registrationForm.password.$error.maxlength) && submitted" class="help-block">Password must be between 4 and 20 characters.</p>
        </div>

        <div class="form-group" ng-class="{ 'has-error' : ((registrationForm.confirmPassword.$invalid && (registrationForm.confirmPassword.$pristine || registrationForm.confirmPassword.$dirty)) && submitted) || (passwordConfirmationFailed && submitted) }">
            <label>confirm password:</label>
            <input type="password"  name="confirmPassword" class="form-control" ng-model="user.confirmPassword" required placeholder="confirm password" />
            <p ng-show="(registrationForm.confirmPassword.$invalid && (registrationForm.confirmPassword.$pristine || registrationForm.confirmPassword.$dirty)) && submitted" class="help-block">Confirm password</p>
            <p ng-show="( passwordConfirmationFailed ) && submitted" class="help-block">Passwords do not match</p>
        </div>
        <div ng-class="{ 'has-error' : errorMessage != null }">
            <p ng-show="errorMessage != null" class="help-block">{{errorMessage}}</p>
        </div>
            <button type="submit" class="btn btn-primary">Register</button>
    </form>
</div>